{"ast":null,"code":"import _asyncToGenerator from \"/home/meghna/mogi/kube-mogi/cheeta/frontend/cheeta/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Subject } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nconst OKR_BASE_URL = environment.okrUrl;\nexport class CheetaOkrService {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.okrUpdated = new Subject();\n  }\n\n  getOkrUpdateListener() {\n    return this.okrUpdated.asObservable();\n  }\n\n  createOkr(okr) {\n    var _this = this;\n\n    return new Promise((resolve, reject) => {\n      try {\n        this.http.post(OKR_BASE_URL, okr).subscribe( /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (res) {\n            _this.okrUpdated.next(1);\n\n            resolve(res.data);\n          });\n\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n  getOkr() {\n    return new Promise((resolve, reject) => {\n      try {\n        this.http.get(OKR_BASE_URL + localStorage.getItem('userId')).subscribe(res => {\n          this.okrUpdated.next(1);\n\n          if (res !== undefined) {\n            resolve(res);\n          }\n\n          if (res === undefined) reject(res);\n        }, err => {\n          reject(err);\n        });\n      } catch (err) {\n        reject(err);\n      }\n    });\n  } //function to delete tickets\n\n\n  deleteOkr(id) {\n    var _this2 = this;\n\n    console.log(id);\n    return new Promise((resolve, reject) => {\n      try {\n        this.http.delete(OKR_BASE_URL + id).subscribe( /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator(function* (res) {\n            _this2.okrUpdated.next(1);\n\n            resolve(res);\n          });\n\n          return function (_x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n}\n\nCheetaOkrService.ɵfac = function CheetaOkrService_Factory(t) {\n  return new (t || CheetaOkrService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n};\n\nCheetaOkrService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CheetaOkrService,\n  factory: CheetaOkrService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/home/meghna/mogi/kube-mogi/cheeta/frontend/cheeta/src/app/service/cheetaOkr.service.ts"],"names":["Subject","environment","i0","i1","i2","OKR_BASE_URL","okrUrl","CheetaOkrService","constructor","http","router","okrUpdated","getOkrUpdateListener","asObservable","createOkr","okr","Promise","resolve","reject","post","subscribe","res","next","data","err","getOkr","get","localStorage","getItem","undefined","deleteOkr","id","console","log","delete","ɵfac","CheetaOkrService_Factory","t","ɵɵinject","HttpClient","Router","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":"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","sourcesContent":["import { Subject } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nconst OKR_BASE_URL = environment.okrUrl;\nexport class CheetaOkrService {\n    constructor(http, router) {\n        this.http = http;\n        this.router = router;\n        this.okrUpdated = new Subject();\n    }\n    getOkrUpdateListener() {\n        return this.okrUpdated.asObservable();\n    }\n    createOkr(okr) {\n        return new Promise((resolve, reject) => {\n            try {\n                this.http\n                    .post(OKR_BASE_URL, okr)\n                    .subscribe(async (res) => {\n                    this.okrUpdated.next(1);\n                    resolve(res.data);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    getOkr() {\n        return new Promise((resolve, reject) => {\n            try {\n                this.http.get(OKR_BASE_URL + localStorage.getItem('userId'))\n                    .subscribe((res) => {\n                    this.okrUpdated.next(1);\n                    if (res !== undefined) {\n                        resolve(res);\n                    }\n                    if (res === undefined)\n                        reject(res);\n                }, (err) => {\n                    reject(err);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    //function to delete tickets\n    deleteOkr(id) {\n        console.log(id);\n        return new Promise((resolve, reject) => {\n            try {\n                this.http\n                    .delete(OKR_BASE_URL + id)\n                    .subscribe(async (res) => {\n                    this.okrUpdated.next(1);\n                    resolve(res);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n}\nCheetaOkrService.ɵfac = function CheetaOkrService_Factory(t) { return new (t || CheetaOkrService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router)); };\nCheetaOkrService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: CheetaOkrService, factory: CheetaOkrService.ɵfac, providedIn: 'root' });\n"]},"metadata":{},"sourceType":"module"}