{"ast":null,"code":"import _asyncToGenerator from \"/home/meghna/mogi/kube-mogi/cheeta/frontend/cheeta/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nlet UserProfileComponent = class UserProfileComponent {\n  constructor(cheetaUsersService, fileUploader, dialog) {\n    this.cheetaUsersService = cheetaUsersService;\n    this.fileUploader = fileUploader;\n    this.dialog = dialog; //variable names taken for edit\n\n    this.userProfile = {\n      name: \"\",\n      mobile: '',\n      email: '',\n      profilePic: '',\n      type: ''\n    };\n    this.roleTypeArr = environment.roleTypeArray;\n    this.url = '';\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const res = yield _this.cheetaUsersService.getUserData();\n      yield _this.updateUi(res.data);\n    })();\n  } //filepicker function for updating profile pic\n\n\n  onFilePicked(e) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let ele = e.target;\n      const FILE = ele.files[0];\n      const fileUrl = yield _this2.fileUploader.uploadFile('cheetaFiles/userProfile', FILE);\n\n      _this2.userProfile.profilePic.push(fileUrl);\n    })();\n  } //funtion usedon click of edit option\n\n\n  onEdit() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const userProfile = {\n        name: _this3.userProfile.name,\n        mobile: _this3.userProfile.mobile,\n        profilePic: _this3.userProfile.profilePic,\n        type: _this3.userProfile.type\n      };\n      yield _this3.cheetaUsersService.updateUser(userProfile);\n      alert('Updated Successfully');\n    })();\n  }\n\n  updateUi(userObj) {\n    console.log(userObj);\n    this.userProfile.name = userObj.name;\n    this.userProfile.mobile = userObj.mobile;\n    this.userProfile.email = userObj.email;\n    this.userProfile.type = userObj.type;\n    this.userProfile.profilePic = userObj.profilePic;\n  }\n\n  openDialog(warning) {\n    const dialogRef = this.dialog.open(WarningDialog, {\n      data: warning\n    });\n  }\n\n};\nUserProfileComponent = __decorate([Component({\n  selector: 'app-user-profile',\n  templateUrl: './user-profile.component.html',\n  styleUrls: ['./user-profile.component.scss']\n})], UserProfileComponent);\nexport { UserProfileComponent };","map":{"version":3,"sources":["/home/meghna/mogi/kube-mogi/cheeta/frontend/cheeta/src/app/pages/user-profile/user-profile.component.ts"],"names":["__decorate","Component","environment","UserProfileComponent","constructor","cheetaUsersService","fileUploader","dialog","userProfile","name","mobile","email","profilePic","type","roleTypeArr","roleTypeArray","url","ngOnInit","res","getUserData","updateUi","data","onFilePicked","e","ele","target","FILE","files","fileUrl","uploadFile","push","onEdit","updateUser","alert","userObj","console","log","openDialog","warning","dialogRef","open","WarningDialog","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nlet UserProfileComponent = class UserProfileComponent {\n    constructor(cheetaUsersService, fileUploader, dialog) {\n        this.cheetaUsersService = cheetaUsersService;\n        this.fileUploader = fileUploader;\n        this.dialog = dialog;\n        //variable names taken for edit\n        this.userProfile = {\n            name: \"\",\n            mobile: '',\n            email: '',\n            profilePic: '',\n            type: ''\n        };\n        this.roleTypeArr = environment.roleTypeArray;\n        this.url = '';\n    }\n    async ngOnInit() {\n        const res = await this.cheetaUsersService.getUserData();\n        await this.updateUi(res.data);\n    }\n    //filepicker function for updating profile pic\n    async onFilePicked(e) {\n        let ele = e.target;\n        const FILE = ele.files[0];\n        const fileUrl = await this.fileUploader.uploadFile('cheetaFiles/userProfile', FILE);\n        this.userProfile.profilePic.push(fileUrl);\n    }\n    //funtion usedon click of edit option\n    async onEdit() {\n        const userProfile = {\n            name: this.userProfile.name,\n            mobile: this.userProfile.mobile,\n            profilePic: this.userProfile.profilePic,\n            type: this.userProfile.type,\n        };\n        await this.cheetaUsersService.updateUser(userProfile);\n        alert('Updated Successfully');\n    }\n    updateUi(userObj) {\n        console.log(userObj);\n        this.userProfile.name = userObj.name;\n        this.userProfile.mobile = userObj.mobile;\n        this.userProfile.email = userObj.email;\n        this.userProfile.type = userObj.type;\n        this.userProfile.profilePic = userObj.profilePic;\n    }\n    openDialog(warning) {\n        const dialogRef = this.dialog.open(WarningDialog, {\n            data: warning,\n        });\n    }\n};\nUserProfileComponent = __decorate([\n    Component({\n        selector: 'app-user-profile',\n        templateUrl: './user-profile.component.html',\n        styleUrls: ['./user-profile.component.scss']\n    })\n], UserProfileComponent);\nexport { UserProfileComponent };\n"]},"metadata":{},"sourceType":"module"}