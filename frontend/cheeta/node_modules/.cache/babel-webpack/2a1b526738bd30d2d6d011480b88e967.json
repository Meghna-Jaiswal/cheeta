{"ast":null,"code":"import _asyncToGenerator from \"/home/meghna/mogi/kube-mogi/cheeta/frontend/cheeta/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet OkrFormComponent = class OkrFormComponent {\n  constructor(cheetaOkrService, notifications, dialogRef) {\n    this.cheetaOkrService = cheetaOkrService;\n    this.notifications = notifications;\n    this.dialogRef = dialogRef;\n    this.okr = {\n      objective: '',\n      actions: [],\n      results: []\n    };\n    this.action = '';\n    this.result = '';\n    this.objectiveTitle = false;\n    this.actionTitle = false;\n    this.resultTitle = false;\n    this.objectiveValid = true;\n    this.actionValid = true;\n    this.resultValid = true;\n  }\n\n  ngOnInit() {}\n\n  onSubmit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        let OKR = {\n          userId: localStorage.getItem('userId'),\n          objective: _this.okr.objective,\n          actions: [..._this.okr.actions],\n          results: [..._this.okr.results]\n        };\n\n        if (OKR.objective && OKR.actions.length > 0 && OKR.results.length > 0) {\n          let res;\n          res = yield _this.cheetaOkrService.createOkr(OKR);\n\n          if (res) {\n            _this.notifications.openDialog('Created  Successfully');\n\n            _this.dialogRef.close();\n          }\n        } else {\n          _this.notifications.openWarningDialog('All Field Are Required');\n\n          return;\n        }\n      } catch (_a) {}\n    })();\n  }\n\n  addAction(event) {\n    console.log(this.action);\n\n    if (this.action == '') {\n      this.actionValid = false;\n    } else {\n      this.okr.actions.push(this.action);\n      this.actionValid = true;\n    }\n  }\n\n  removeAction(event) {\n    const index = this.okr.actions.indexOf(event);\n\n    if (index >= 0) {\n      this.okr.actions.splice(index, 1);\n    }\n  }\n\n  addResult(event) {\n    if (this.result == '') {\n      this.resultValid = false;\n    } else {\n      this.okr.results.push(this.result);\n      this.resultValid = true;\n    }\n  }\n\n  removeResult(event) {\n    const index = this.okr.results.indexOf(event);\n\n    if (index >= 0) {\n      this.okr.results.splice(index, 1);\n    }\n  }\n\n};\nOkrFormComponent = __decorate([Component({\n  selector: 'app-okr-form',\n  templateUrl: './okr-form.component.html',\n  styleUrls: ['./okr-form.component.scss']\n})], OkrFormComponent);\nexport { OkrFormComponent };","map":{"version":3,"sources":["/home/meghna/mogi/kube-mogi/cheeta/frontend/cheeta/src/app/pages/okr/okr-form/okr-form.component.ts"],"names":["__decorate","Component","OkrFormComponent","constructor","cheetaOkrService","notifications","dialogRef","okr","objective","actions","results","action","result","objectiveTitle","actionTitle","resultTitle","objectiveValid","actionValid","resultValid","ngOnInit","onSubmit","OKR","userId","localStorage","getItem","length","res","createOkr","openDialog","close","openWarningDialog","_a","addAction","event","console","log","push","removeAction","index","indexOf","splice","addResult","removeResult","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet OkrFormComponent = class OkrFormComponent {\n    constructor(cheetaOkrService, notifications, dialogRef) {\n        this.cheetaOkrService = cheetaOkrService;\n        this.notifications = notifications;\n        this.dialogRef = dialogRef;\n        this.okr = {\n            objective: '',\n            actions: [],\n            results: []\n        };\n        this.action = '';\n        this.result = '';\n        this.objectiveTitle = false;\n        this.actionTitle = false;\n        this.resultTitle = false;\n        this.objectiveValid = true;\n        this.actionValid = true;\n        this.resultValid = true;\n    }\n    ngOnInit() { }\n    async onSubmit() {\n        try {\n            let OKR = {\n                userId: localStorage.getItem('userId'),\n                objective: this.okr.objective,\n                actions: [...this.okr.actions],\n                results: [...this.okr.results]\n            };\n            if (OKR.objective && OKR.actions.length > 0 && OKR.results.length > 0) {\n                let res;\n                res = await this.cheetaOkrService.createOkr(OKR);\n                if (res) {\n                    this.notifications.openDialog('Created  Successfully');\n                    this.dialogRef.close();\n                }\n            }\n            else {\n                this.notifications.openWarningDialog('All Field Are Required');\n                return;\n            }\n        }\n        catch (_a) {\n        }\n    }\n    addAction(event) {\n        console.log(this.action);\n        if (this.action == '') {\n            this.actionValid = false;\n        }\n        else {\n            this.okr.actions.push(this.action);\n            this.actionValid = true;\n        }\n    }\n    removeAction(event) {\n        const index = this.okr.actions.indexOf(event);\n        if (index >= 0) {\n            this.okr.actions.splice(index, 1);\n        }\n    }\n    addResult(event) {\n        if (this.result == '') {\n            this.resultValid = false;\n        }\n        else {\n            this.okr.results.push(this.result);\n            this.resultValid = true;\n        }\n    }\n    removeResult(event) {\n        const index = this.okr.results.indexOf(event);\n        if (index >= 0) {\n            this.okr.results.splice(index, 1);\n        }\n    }\n};\nOkrFormComponent = __decorate([\n    Component({\n        selector: 'app-okr-form',\n        templateUrl: './okr-form.component.html',\n        styleUrls: ['./okr-form.component.scss']\n    })\n], OkrFormComponent);\nexport { OkrFormComponent };\n"]},"metadata":{},"sourceType":"module"}